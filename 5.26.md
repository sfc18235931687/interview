**一、你知道几种设计模式**

- 单例模式：保证一个类仅有一个实例，并提供一个访问他的全局访问点，例如框架中的数据库连接
- 装饰器模式：不修改元类代码和继承的情况下动态扩展类的功能，例如框架中的每个controller文件会提供before和after方法。
- 迭代器模式： 提供一个方法顺序访问一个聚合对象中各个元素，在PHP中将继承 Iterator 类
- 命令模式: 将”请求”封闭成对象, 以便使用不同的请求,队列或者日志来参数化其他对象. 命令模式也支持可撤销的操作.



**二、编码和解码你了解过么**

数据通过编码decode转换成Unicode编码，编码的同时会将数据变成byte类型，通过解码encode转换为utf-8。



**三、手写个使用装饰器实现的单例模式**

该模式的主要目的是确保某一个类只有一个实例存在。

```python
from functools import warps
def My_decorate(f):
    @warps(f)
    def fn(*args,**kwargs):
        print('decorate called')
        return f(*args,**kwargs)
    return fn
@My_decorate
def fx():
    pring('fx called')
fx()
```



**四、介绍下垃圾回收：引用计数/分代回收/孤立引用环**

当python某个对象引用计数为0，说明该对象无引用，python会自动启动"垃圾回收"，将无用的对象冲内存中清除，但是频繁的垃圾回收，会大大降低python的工作效率，所以，python只在特定的条件下自动启动垃圾回收。

- 引用计数

  - python是根据引用计数自动管理内存的。可通过sys包中的getrefcount(对象名)来查看某个对象的引用计数（查看引用计数的时候， 在使用sys.getrefcount()函数时，函数会引用一次， 所以会比预期的引用计数多一个，如果查看的是数字或者字母，因为他们在系统中属于常驻内存，为公用对象，所以输出的结果比较特殊）。如果一个对象的引用计数为0，则该对象会被解释器进行回收，对象在内存中消失。当对象被创建的时候，引用计数+1，当对象被其他指针引用的时候，+1，当对象的引用被删除的时候。引用计数-1
    python内置关键字del删除的是对象的引用，而不是内存中的对象。

- 分代回收

  - 分代回收策略，该策略假设，存活时间越长的对象，越不可能在后边的程序中变成垃圾。python将所有的对象分为0,1,2三代对象。所有新建的对象都是0代对象，当某一代对象经历过垃圾回收，依然存活，那么它就被归入下一代对象，垃圾回收启东时，一定会扫描所有的0代对象，如果0代对象经过一定次数的垃圾回收，那么就启动对0代和1代的扫描清理，当1代也经历了一定次数垃圾回收后，那么就启动对0,1,2代，即所有对象进行扫描。

- 孤立引用环

  - 这两个列表对象相互引用，形成孤立的引用环，当删除list1，list2的时候，以上两个列表在程序中将无法被调用，但是其实引用计数并不为0，不会被垃圾回收
    为了回收这样的引用环，python复制每一个对象的引用计数，然后python遍历所有的引用环涉及到的对象，该出仅有list1和list2，当遍历到list1是，由于list1引用了list2，故将list2的引用计数减1，同理，当遍历到list2的时候讲list1的引用计数减1，结果它们的值都为0，最后将不为0的对象保留，为0的对象进行垃圾回收。

    ```python
    例如：
    list1 = [1,2,3]
    list2 = list1
    list1.append(list2)
    del list1
    del list2
    ```

    

**五、uwsgi 和 Nginx**

uwsgi 可以看作是一个应用程序，帮助我们实现WSGI协议，Http协议，这样我们可以不再关注网络通信的底层实现，将精力更多放在处理HTTP请求数据，返回HTML。利用uWIGS可以是我们的web应用得到更强的并发能力

Nginx是一款轻量级的Web 服务器/反向代理服务器及电子邮件（IMAP/POP3）代理服务器 其特点是占有内存少，并发能力强
它具有反向代理服务器的所有特点，并且配置简单，支持对大于1kb的文件进行压缩，静态文件缓存，可以大大提高访问效率。Nginx接受来自客户端的Http请求发送给uWSGI，uWSGI处理请求并将关键信息传递给web应用(django，flask等)，应用返回Response经由uWSGI发送给Nginx，Nginx再发送给客户端。
Nginx常用命令：
sudo service nginx start 启动Nginx服务器
sudo service nginx stop 停止nginx服务器
sudo service nginx status 查看nginx服务状态
service nginx restart
